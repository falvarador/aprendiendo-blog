---
import { filterArticles } from "@utils/filters";
import Articles from "@components/article/articles.astro";
import Layout from "@layouts/layout.astro";
import { capitalize } from "@utils/formats";

export async function getStaticPaths() {
  const markdownArticles = await Astro.glob("../posts/*.md");

  return filterArticles(markdownArticles);
}

const { tag } = Astro.params;
const { articles } = Astro.props;
---

<Layout pageTitle={`Aprendiendo | ${capitalize(tag)}`}>
  <Articles
    articles={articles}
    isPrimary={true}
    title={`Últimos artículos | ${capitalize(tag)}`}
  />
</Layout>
